{"version":3,"sources":["components/Result.js","utils.js","components/Welcome.js","components/constants.js","words.js","components/Timer.js","components/Progress.js","App.js","index.js"],"names":["Result","answers","JSON","parse","localStorage","getItem","name","correctAnswers","reduce","prev","curr","isCorrect","totalQuestions","length","percent","toFixed","grade","correct","total","res","Math","round","getGrade","avgTime","time","hash","btoa","unescape","encodeURIComponent","useEffect","params","window","ym","className","class","Welcome","onNextPage","setName","isBtnDisabled","onSubmit","type","value","onChange","event","target","placeholder","disabled","words","Timer","timeLeft","classes","push","join","isVowel","s","test","Progress","useState","setTimeLeft","wordNumber","setWordNumber","undefined","selectedPosition","setSelectedPosition","interval","setInterval","prevValue","newValue","clearInterval","letterClick","ch","i","word","replace","map","key","onClick","correctPosition","match","index","setItem","stringify","App","page","setPage","goToPage","Sentry","dsn","rootElement","document","getElementById","ReactDOM","render","StrictMode","fallback"],"mappings":"8PAYe,SAASA,IACtB,IAAMC,EAAUC,KAAKC,MAAMC,aAAaC,QAAQ,YAC1CC,EAAOF,aAAaC,QAAQ,QAC5BE,EAAiBN,EAAQO,QAC7B,SAACC,EAAMC,GAAP,OAAgBD,EAAOC,EAAKC,YAC5B,GAEIC,EAAiBX,EAAQY,OACzBC,GAAYP,EAAiBK,EAAkB,KAAKG,QAAQ,GAC5DC,EAlBR,SAAkBC,EAASC,GACzB,IAAIC,EAAOF,EAAUC,EAAX,EAA8B,EACxC,OAAOE,KAAKC,MAAMF,GAgBJG,CAASf,EAAgBK,GACjCW,EAAUH,KAAKC,MACnBpB,EAAQO,QAAO,SAACC,EAAMC,GAAP,OAAgBD,EAAOC,EAAKc,OAAM,GAAKvB,EAAQY,QAE1DY,ECxBCC,KAAKC,SAASC,mBDwBDtB,EAAOC,KAW3B,OAVAsB,qBAAU,WClBL,IAAsBC,IDmBZ,CACXxB,OACAC,iBACAK,iBACAE,UACAE,QACAO,WCxBAQ,OAAOC,IACTD,OAAOC,GAAG,SAAU,aAApB,eAAuCF,MDyBtC,CAACxB,EAAMC,EAAgBK,EAAgBE,EAASE,IAEjD,yBAAKiB,UAAU,UACb,4FACA,4BAAK3B,GACL,yBAAK4B,MAAM,QAAQT,GACnB,uIACuBlB,EADvB,IACwCK,EADxC,KAC0DE,EAD1D,MAGA,oEAAYE,GACZ,8IAA0BO,EAA1B,YACA,oRACA,yBAAKW,MAAM,QAAQT,IE5CV,SAASU,EAAT,GAAiD,IAA9BC,EAA6B,EAA7BA,WAAY9B,EAAiB,EAAjBA,KAAM+B,EAAW,EAAXA,QAE5CC,EAAgBhC,EAAKO,OAAS,EACpC,OACE,6BACE,uMACA,gOACA,ySACA,2BAAG,0HAAH,KCXoB,GDWpB,sFACA,6BACA,qQACA,0BAAM0B,SAAUH,GACd,2BACEH,UAAU,YACVO,KAAK,OACLC,MAAOnC,EACPoC,SAfa,SAACC,GAAD,OAAWN,EAAQM,EAAMC,OAAOH,QAgB7CI,YAAY,kEAEd,6BACA,6BACA,4BACEZ,UAAU,kBACVO,KAAK,SACLM,SAAUR,GAHZ,0C,YEgIOS,EAxJD,CACZ,yDACA,mDACA,iFACA,qEACA,yDACA,2EACA,yDACA,2EACA,+DACA,mDACA,6CACA,qEACA,qEACA,qEACA,uCACA,+DACA,6CACA,6CACA,mDACA,yDACA,yDACA,6CACA,uCACA,mDACA,6FACA,yDACA,6CACA,qEACA,mDACA,yDACA,mDACA,6CACA,qEACA,6FACA,yDACA,yDACA,iFACA,+DACA,+DACA,2EACA,+DACA,mDACA,yDACA,mDACA,mDACA,yDACA,yDACA,uCACA,6CACA,qDACA,mGACA,yDACA,2EACA,yDACA,iFACA,6CACA,6CACA,6CACA,+DACA,iFACA,+DACA,iFACA,uCACA,mDACA,+DACA,yDACA,mDACA,2EACA,+DACA,+DACA,yDACA,mDACA,qEACA,qEACA,qEACA,6CACA,qEACA,2EACA,iFACA,iFACA,yDACA,mDACA,yDACA,2EACA,+DACA,uCACA,qEACA,uCACA,qEACA,yDACA,6CACA,uCACA,yDACA,6FACA,6CACA,+DACA,yDACA,uCACA,yDACA,2DACA,qEACA,mDACA,uCACA,iCACA,2EACA,mGACA,6CACA,qEACA,6CACA,mDACA,mDACA,mDACA,mDACA,6CACA,mDACA,mDACA,uCACA,uCACA,uCACA,+DACA,iCACA,uCACA,yDACA,6CACA,uCACA,6CACA,uCACA,mDACA,6CACA,yDACA,mDACA,uCACA,uCACA,uCACA,6CACA,yDACA,uCACA,mDACA,mDACA,mDACA,+DACA,uCACA,yDACA,6CACA,6CACA,qEACA,+DACA,6CACA,qEACA,0DCnJa,SAASC,EAAT,GAA8B,IAAbC,EAAY,EAAZA,SACxBC,EAAU,CAAC,SAMjB,OALID,EFLoB,IEKK,IAC3BC,EAAQC,KAAK,OACJF,EFPa,IEOY,IAClCC,EAAQC,KAAK,UAER,yBAAKlB,UAAWiB,EAAQE,KAAK,MAAOH,GCL7C,SAASI,EAAQC,GACf,MAAO,oEAAkBC,KAAKD,GAGhC,IAAIrD,EAAU,GAEC,SAASuD,EAAT,GAAyC,IAArBpB,EAAoB,EAApBA,WAAY9B,EAAQ,EAARA,KAAQ,EACrBmD,mBHZR,IGW6B,mBAC9CR,EAD8C,KACpCS,EADoC,OAEjBD,mBAAS,GAFQ,mBAE9CE,EAF8C,KAElCC,EAFkC,OAGLH,wBAASI,GAHJ,mBAG9CC,EAH8C,KAG5BC,EAH4B,KAKrDlC,qBAAU,WACR6B,EHjBsB,IGkBtB,IAAMM,EAAWC,aAAY,WAC3BP,GAAY,SAACQ,GACX,IAAIC,EAAWD,EAAY,EAI3B,OAHiB,IAAbC,GACFC,cAAcJ,GAETG,OAER,KACH,OAAO,kBAAMC,cAAcJ,MAC1B,CAACL,IAyBJ,IAAMU,EAAc,SAACC,EAAIC,GAAL,OAAW,WACzBlB,EAAQiB,IAAKP,EAAoBQ,KAEvC,GAA0B,qBAAfZ,EAA4B,OAAO,4DAC9C,IAAKZ,EAAMY,GAAa,OAAO,+CAE/B,IAAMa,EAAOzB,EAAMY,GAAYc,QAAQ,UAAW,IAC5CnC,EACwB,qBAArBwB,GAAiD,IAAbb,EAC7C,OACE,yBAAKhB,UAAU,YACb,8DACS0B,EAAa,EADtB,IAC0BZ,EAAMlC,QAEhC,0EAAaP,GACb,+SACA,kBAAC0C,EAAD,CAAOC,SAAUA,IACjB,yBAAKhB,UAAWgB,EAAW,EAAI,eAAiB,QAC7C,YAAIuB,GAAME,KAAI,SAACJ,EAAIC,GAClB,IAAIrB,EAAU,CAAC,UAGf,OAFIG,EAAQiB,IAAKpB,EAAQC,KAAK,SAC1BoB,IAAMT,GAAkBZ,EAAQC,KAAK,YAEvC,0BACElB,UAAWiB,EAAQE,KAAK,KACxBuB,IAAKL,EAAKC,EACVK,QAASP,EAAYC,EAAIC,IAExBD,MAINrB,EAAW,EAAI,yBAAKhB,UAAU,WAAf,iEAA6C,IAG/D,6BACA,6BACA,6BACE,4BACEa,SAAUR,EACVL,UAAU,kBACV2C,QAjER,WACE,IAAMJ,EAAOzB,EAAMY,GACbkB,EAAkBL,EAAKM,MAAM,UAAUC,MAAQ,EAErD9E,EAAQkD,KAAK,CACXqB,OACAV,mBACAe,kBACAlE,UAAWmD,IAAqBe,EAChCrD,KHtCoB,GGsCDyB,IAGrBW,GAAc,SAACM,GACb,IAAMC,EAAWD,EAAY,EAC7B,OAAIC,EAAWpB,EAAMlC,OACZsD,GAEP/D,aAAa4E,QAAQ,UAAW9E,KAAK+E,UAAUhF,SAC/CmC,QAIJ2B,OAAoBF,KAwChB,oC,YCpFO,SAASqB,IAAO,IAAD,EACJzB,mBAAS,WADL,mBACrB0B,EADqB,KACfC,EADe,OAEJ3B,mBAAS,IAFL,mBAErBnD,EAFqB,KAEf+B,EAFe,KAG5BR,qBAAU,WACKzB,aAAaC,QAAQ,YAEhC+E,EAAQ,YAET,IACHvD,qBAAU,WACJvB,GAAMF,aAAa4E,QAAQ,OAAQ1E,KACtC,CAACA,IAEJ,IAAM+E,EAAW,SAACF,GAAD,OAAU,kBAAMC,EAAQD,KAEzC,OAAQA,GACN,IAAK,WACH,OAAO,kBAAC3B,EAAD,CAAUpB,WAAYiD,EAAS,UAAW/E,KAAMA,IACzD,IAAK,SACH,OAAO,kBAACN,EAAD,CAAQM,KAAMA,IAEvB,QACE,OACE,kBAAC6B,EAAD,CACEC,WAAYiD,EAAS,YACrB/E,KAAMA,EACN+B,QAASA,K,oBC3BjBiD,IAAY,CACVC,IACE,8EAIN,IAAMC,EAAcC,SAASC,eAAe,QAC5CC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,IAAD,CAAsBC,SAAU,yBAC9B,yBAAK7D,UAAU,aACb,kBAACiD,EAAD,SAINM,K","file":"static/js/main.ecf0eb37.chunk.js","sourcesContent":["import React, { useEffect } from \"react\";\nimport { encode, ymUserParams } from \"../utils\";\n\nfunction getGrade(correct, total) {\n  let res = (correct / total) * (5 - 2) + 2;\n  return Math.round(res);\n}\n\n// for (let i = 0; i <= 100; i++) {\n//   console.log(i, getGrade(i, 100));\n// }\n\nexport default function Result() {\n  const answers = JSON.parse(localStorage.getItem(\"answers\"));\n  const name = localStorage.getItem(\"name\");\n  const correctAnswers = answers.reduce(\n    (prev, curr) => prev + curr.isCorrect,\n    0\n  );\n  const totalQuestions = answers.length;\n  const percent = ((correctAnswers / totalQuestions) * 100).toFixed(2);\n  const grade = getGrade(correctAnswers, totalQuestions);\n  const avgTime = Math.round(\n    answers.reduce((prev, curr) => prev + curr.time, 0) / answers.length\n  );\n  const hash = encode(name + correctAnswers);\n  useEffect(() => {\n    ymUserParams({\n      name,\n      correctAnswers,\n      totalQuestions,\n      percent,\n      grade,\n      avgTime,\n    });\n  }, [name, correctAnswers, totalQuestions, percent, grade]);\n  return (\n    <div className=\"result\">\n      <h1>Результаты</h1>\n      <h2>{name}</h2>\n      <div class=\"hash\">{hash}</div>\n      <p>\n        Правильных ответов: {correctAnswers}/{totalQuestions} ({percent}%)\n      </p>\n      <p>Оценка: {grade}</p>\n      <p>Среднее время ответа: {avgTime} с.</p>\n      <p>Отправьте снимок этой страницы преподавателю.</p>\n      <div class=\"hash\">{hash}</div>\n    </div>\n  );\n}\n","export function encode(str) {\n  return btoa(unescape(encodeURIComponent(str)));\n}\n\nexport function decode(str) {\n  return atob(escape(decodeURIComponent(str)));\n}\n\nexport function ymUserParams(params) {\n  if (window.ym) {\n    window.ym(69444790, \"userParams\", { ...params });\n  }\n}\n","import React from \"react\";\nimport { TIME_LIMIT } from \"./constants\";\n\nexport default function Welcome({ onNextPage, name, setName }) {\n  const handleChange = (event) => setName(event.target.value);\n  const isBtnDisabled = name.length < 4;\n  return (\n    <div>\n      <h1>Тест на знание ударений в словах</h1>\n      <p>У вас только одна попытка пройти тест.</p>\n      <p>Нужно кликнуть на букву на которую падает ударение.</p>\n      <p><b>Время ограничено</b>: {TIME_LIMIT} секунд на слово.</p>\n      <br />\n      <p>Для прохождения теста, введите фамилию и имя:</p>\n      <form onSubmit={onNextPage}>\n        <input\n          className=\"ant-input\"\n          type=\"text\"\n          value={name}\n          onChange={handleChange}\n          placeholder=\"Фамилия Имя\"\n        />\n        <br />\n        <br />\n        <button\n          className=\"ant-btn-primary\"\n          type=\"submit\"\n          disabled={isBtnDisabled}\n        >\n          Начать\n      </button>\n      </form>\n    </div>\n  );\n}\n","export const TIME_LIMIT = 15;\n","const words = [\n  \"алкого́ль\",\n  \"алфави́т\",\n  \"аристокра́тия\",\n  \"бало́ванный\",\n  \"балова́ть\",\n  \"бензопрово́д\",\n  \"бряца́ние\",\n  \"букси́ровать\",\n  \"буржуази́я\",\n  \"Ва́льтер\",\n  \"ве́черя\",\n  \"втри́дорога\",\n  \"газопрово́д\",\n  \"гу́сеничный\",\n  \"дефи́с\",\n  \"диспансе́р\",\n  \"добела́\",\n  \"добы́ча\",\n  \"догово́р\",\n  \"докуме́нт\",\n  \"доне́льзя\",\n  \"до́низу\",\n  \"доска́\",\n  \"дремо́та\",\n  \"единовре́менный\",\n  \"жа́ловать\",\n  \"жалюзи́\",\n  \"жаро́венный\",\n  \"зави́дно\",\n  \"за́гнутый\",\n  \"за́говор\",\n  \"за́годя\",\n  \"заку́порить\",\n  \"запломбирова́ть\",\n  \"зна́мение\",\n  \"зубча́тый\",\n  \"избало́ванный\",\n  \"и́конопись\",\n  \"индустри́я\",\n  \"испове́дание\",\n  \"исче́рпать\",\n  \"ка́мбала\",\n  \"кардига́н\",\n  \"катало́г\",\n  \"кварта́л\",\n  \"кедро́вый\",\n  \"киломе́тр\",\n  \"кожу́х\",\n  \"коклю́ш\",\n  \"коры́сть\t\",\n  \"костюмиро́ванный\",\n  \"краси́вее\",\n  \"кровоточи́ть\",\n  \"ку́хонный\",\n  \"ламини́ровать\",\n  \"ла́цкан\",\n  \"ломо́та\",\n  \"ма́нтра\",\n  \"мастерски́\",\n  \"метрополите́н\",\n  \"мозаи́чный\",\n  \"мусоропрово́д\",\n  \"на́бок\",\n  \"надо́лго\",\n  \"наме́рение\",\n  \"нарочи́то\",\n  \"на́чатый\",\n  \"нефтепрово́д\",\n  \"облегчи́ть\",\n  \"оксю́морон\",\n  \"опо́шлить\",\n  \"опто́вый\",\n  \"осве́домить\",\n  \"отку́порить\",\n  \"о́трочество\",\n  \"парте́р\",\n  \"переходни́к\",\n  \"плодоноси́ть\",\n  \"пломбирова́ть\",\n  \"пломбиро́вщик\",\n  \"поня́вший\",\n  \"по́нятый\",\n  \"портфе́ль\",\n  \"премирова́ть\",\n  \"прину́дить\",\n  \"гербы́\",\n  \"путепрово́д\",\n  \"равно́\",\n  \"разоружи́ть\",\n  \"ру́бчатый\",\n  \"са́кура\",\n  \"си́лос\",\n  \"сли́вовый\",\n  \"сосредото́чение\",\n  \"столя́р\",\n  \"телепа́тия\",\n  \"трансфе́р\",\n  \"убы́ть\",\n  \"углуби́ть\",\n  \"удо́брить\t\",\n  \"украи́нский\",\n  \"фено́мен\",\n  \"фети́ш\",\n  \"хво́я\",\n  \"хода́тайство\",\n  \"хода́тайствовать\",\n  \"хребе́т\",\n  \"христиани́н\",\n  \"цеме́нт\",\n  \"це́нтнер\",\n  \"цепо́чка\",\n  \"че́рпать\",\n  \"шарово́й\",\n  \"щаве́ль\",\n  \"э́кскурс\",\n  \"эпи́граф\",\n  \"то́рты\",\n  \"ба́нты\",\n  \"аниме́\",\n  \"аппостро́ф\",\n  \"во́ры\",\n  \"взята́\",\n  \"догово́ры\",\n  \"занята́\",\n  \"кре́мы\",\n  \"кре́мов\",\n  \"ла́тте\",\n  \"начался́\",\n  \"о́бняли\",\n  \"сре́дства\",\n  \"по́дняли\",\n  \"ша́рфы\",\n  \"снята́\",\n  \"но́гтя\",\n  \"че́рпая\",\n  \"снабжена́\",\n  \"лгала́\",\n  \"сверли́т\",\n  \"включи́м\",\n  \"прибыла́\",\n  \"нача́вшись\",\n  \"бо́мжи\",\n  \"ле́кторов\",\n  \"про́дал\",\n  \"вруча́т\",\n  \"маршме́ллоу\",\n  \"рандо́мный\",\n  \"стригу́\",\n  \"сре́дствами\",\n  \"грунто́вы\"\n];\nexport default words;\n","import React from \"react\";\nimport { TIME_LIMIT } from \"./constants\";\n\nexport default function Timer({ timeLeft }) {\n  const classes = [\"timer\"];\n  if (timeLeft / TIME_LIMIT <= 0.33) {\n    classes.push(\"red\");\n  } else if (timeLeft / TIME_LIMIT <= 0.5) {\n    classes.push(\"yellow\");\n  }\n  return <div className={classes.join(\" \")}>{timeLeft}</div>;\n}\n","import React, { useEffect, useState } from \"react\";\nimport words from \"../words\";\nimport { TIME_LIMIT } from \"./constants\";\nimport Timer from \"./Timer\";\n\nfunction isVowel(s) {\n  return /^[аеёиоуыэюя]$/i.test(s);\n}\n\nlet answers = [];\n\nexport default function Progress({ onNextPage, name }) {\n  const [timeLeft, setTimeLeft] = useState(TIME_LIMIT);\n  const [wordNumber, setWordNumber] = useState(0);\n  const [selectedPosition, setSelectedPosition] = useState(undefined);\n\n  useEffect(() => {\n    setTimeLeft(TIME_LIMIT);\n    const interval = setInterval(() => {\n      setTimeLeft((prevValue) => {\n        let newValue = prevValue - 1;\n        if (newValue === 0) {\n          clearInterval(interval);\n        }\n        return newValue;\n      });\n    }, 1000);\n    return () => clearInterval(interval);\n  }, [wordNumber]);\n  function next() {\n    const word = words[wordNumber];\n    const correctPosition = word.match(/\\u0301/).index - 1;\n\n    answers.push({\n      word,\n      selectedPosition,\n      correctPosition,\n      isCorrect: selectedPosition === correctPosition,\n      time: TIME_LIMIT - timeLeft,\n    });\n\n    setWordNumber((prevValue) => {\n      const newValue = prevValue + 1;\n      if (newValue < words.length) {\n        return newValue;\n      } else {\n        localStorage.setItem(\"answers\", JSON.stringify(answers));\n        onNextPage();\n        return undefined;\n      }\n    });\n    setSelectedPosition(undefined);\n  }\n  const letterClick = (ch, i) => () => {\n    if (isVowel(ch)) setSelectedPosition(i);\n  };\n  if (typeof wordNumber === \"undefined\") return <>wordNumber undefined</>;\n  if (!words[wordNumber]) return <>No word</>;\n\n  const word = words[wordNumber].replace(/\\u0301/g, \"\");\n  const isBtnDisabled =\n    typeof selectedPosition === \"undefined\" && timeLeft !== 0;\n  return (\n    <div className=\"progress\">\n      <h2>\n        Слово {wordNumber + 1}/{words.length}\n      </h2>\n      <p>Студент: {name}</p>\n      <p>Нажмите на гласную букву на которую падает ударение.</p>\n      <Timer timeLeft={timeLeft} />\n      <div className={timeLeft < 1 ? \"word blurred\" : \"word\"}>\n        {[...word].map((ch, i) => {\n          let classes = [\"letter\"];\n          if (isVowel(ch)) classes.push(\"vowel\");\n          if (i === selectedPosition) classes.push(\"selected\");\n          return (\n            <span\n              className={classes.join(\" \")}\n              key={ch + i}\n              onClick={letterClick(ch, i)}\n            >\n              {ch}\n            </span>\n          );\n        })}\n        {timeLeft < 1 ? <div className=\"timeout\">Время вышло</div> : \"\"}\n      </div>\n\n      <br />\n      <br />\n      <div>\n        <button\n          disabled={isBtnDisabled}\n          className=\"ant-btn-primary\"\n          onClick={next}\n        >\n          Далее\n        </button>\n      </div>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport Result from \"./components/Result\";\nimport Welcome from \"./components/Welcome\";\nimport Progress from \"./components/Progress\";\nimport \"./styles.css\";\nimport \"./ant-styles.css\";\n\nexport default function App() {\n  const [page, setPage] = useState(\"welcome\");\n  const [name, setName] = useState(\"\");\n  useEffect(() => {\n    let result = localStorage.getItem(\"answers\");\n    if (result) {\n      setPage(\"result\");\n    }\n  }, []);\n  useEffect(() => {\n    if (name) localStorage.setItem('name', name);\n  }, [name])\n\n  const goToPage = (page) => () => setPage(page);\n\n  switch (page) {\n    case \"progress\":\n      return <Progress onNextPage={goToPage(\"result\")} name={name} />;\n    case \"result\":\n      return <Result name={name} />;\n\n    default:\n      return (\n        <Welcome\n          onNextPage={goToPage(\"progress\")}\n          name={name}\n          setName={setName}\n        />\n      );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as Sentry from \"@sentry/react\";\n\nif (process.env.NODE_ENV === \"production\") {\n  Sentry.init({\n    dsn:\n      \"https://59fb7f6408f14295be3845cf393face8@o293087.ingest.sentry.io/5517954\"\n  });\n}\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <React.StrictMode>\n    <Sentry.ErrorBoundary fallback={\"An error has occurred\"}>\n      <div className=\"container\">\n        <App />\n      </div>\n    </Sentry.ErrorBoundary>\n  </React.StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}